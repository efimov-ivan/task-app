(this["webpackJsonptask-app"]=this["webpackJsonptask-app"]||[]).push([[0],{229:function(e,t,a){e.exports=a(356)},234:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var n,c,r,s,l,o=a(204),i=a(0),u=a.n(i),m=a(19),d=a.n(m),f=a(121),b=a(122),p=a(212),v=(a(234),a(36)),h=a.n(v),k=a(81),j=a(21),E=a(107),O=a(205),y=a(206),g=a(108),C=(a(236),a(9)),N=a(67),w=a.n(N),x=new(n=function(){function e(){Object(O.a)(this,e),Object(E.a)(this,"tasks",c,this),Object(E.a)(this,"loading",r,this),Object(E.a)(this,"comments",s,this),Object(E.a)(this,"loadingComments",l,this)}return Object(y.a)(e,[{key:"getTasks",value:function(){var e=this,t=[];w.a.get("https://my-tasks-797df.firebaseio.com/tasks.json").then((function(a){for(var n in a.data)t.push(Object(j.a)(Object(j.a)({},a.data[n]),{},{key:n}));e.tasks=t.reverse(),e.loading=!1}))}},{key:"addTask",value:function(){var e=Object(k.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("https://my-tasks-797df.firebaseio.com/tasks.json",Object(j.a)({},t));case 2:this.getTasks();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTask",value:function(){var e=Object(k.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("https://my-tasks-797df.firebaseio.com/tasks/".concat(t.key,".json"),Object(j.a)({},t));case 2:this.getTasks();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(k.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("https://my-tasks-797df.firebaseio.com/tasks/".concat(t,".json"));case 2:this.deleteComments(t),this.getTasks();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(k.a)(h.a.mark((function e(t){var a,n=this,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(c.length>1&&void 0!==c[1])||c[1],this.loadingComments=a,e.next=4,w.a.get("https://my-tasks-797df.firebaseio.com/comments/".concat(t,".json")).then((function(e){n.comments=e.data,n.loadingComments=!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postComment",value:function(){var e=Object(k.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("https://my-tasks-797df.firebaseio.com/comments/".concat(t,".json"),{comment:a});case 2:this.getComments(t,!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteComments",value:function(){var e=Object(k.a)(h.a.mark((function e(t){var a,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"",e.next=3,w.a.delete("https://my-tasks-797df.firebaseio.com/comments/".concat(t,"/").concat(a,".json"));case 3:this.getComments(t,!1);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),c=Object(g.a)(n.prototype,"tasks",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(g.a)(n.prototype,"loading",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=Object(g.a)(n.prototype,"comments",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(g.a)(n.prototype,"loadingComments",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),S=a(41),T=a(23),z=a(384),W=function(e){var t=e.icon,a=e.fn,n=e.text,c=e.color,r=e.className,s=e.style,l=e.size,o=void 0===l?"small":l,m=e.variant,d=e.disabled,f=e.disableButtons,b=e.clearDisableButton,p=Object(i.useState)(n),v=Object(T.a)(p,2),h=v[0],k=v[1],j=Object(i.useState)(!1),E=Object(T.a)(j,2),O=E[0],y=E[1];return Object(i.useEffect)((function(){var e=null,t=0;return O?(f&&f(),e=setInterval((function(){t++,k("cancel ".concat(4-t)),t>=4&&(t=0,a(),y(!1))}),1e3)):O||(clearInterval(e),k(n),b&&b()),function(){clearInterval(e)}}),[O]),u.a.createElement(z.a,{startIcon:t,size:o||"small",color:c||"primary",variant:m||"outlined",disabled:d,style:s||{},className:r||"",onClick:function(){y(!O)}},h)},B=a(404),F=a(388),A=a(400),I=a(392),V=a(393),D=Object(S.a)((function(e){var t=e.task,a=e.closeDialog,n=Object(i.useState)({move:!1,update:!1,delete:!1}),c=Object(T.a)(n,2),r=c[0],s=c[1],l=function(e){x.updateTask(Object(j.a)(Object(j.a)({},t),e)),s({move:!1,update:!1,delete:!1})};return u.a.createElement(F.a,{className:"card-top",title:"Wednesday, July 1, 2020",action:u.a.createElement("div",null,u.a.createElement(A.a,{value:t.col,variant:"outlined",onChange:function(e){l({col:e.target.value}),a()},className:"action-button",disabled:r.move},[{value:3,name:"Moveto"},{value:1,name:"Tasks"},{value:2,name:"Question"},{value:0,name:"Completed"}].map((function(e){var a=e.value,n=e.name;return u.a.createElement(B.a,{value:a,key:a,disabled:3===a||a===t.col},n)}))),u.a.createElement(W,{icon:u.a.createElement(I.a,null),fn:l.bind(!0,t),text:"update",className:"action-button",disabled:r.update,clearDisableButton:function(){return s({update:!1,move:!1,delete:!1})},disableButtons:function(){return s(Object(j.a)(Object(j.a)({},r),{},{move:!0,delete:!0}))}}),u.a.createElement(W,{icon:u.a.createElement(V.a,null),fn:function(){x.deleteTask(t.key),a()},text:"delete",className:"action-button",disabled:r.delete,clearDisableButton:function(){return s({update:!1,move:!1,delete:!1})},disableButtons:function(){return s(Object(j.a)(Object(j.a)({},r),{},{move:!0,update:!0}))}}))})})),J=a(395),K=a(394),Q=a(402),q=Object(S.a)((function(e){var t=e.taskKey,a=Object(i.useState)(""),n=Object(T.a)(a,2),c=n[0],r=n[1];return u.a.createElement("div",{className:"comment-form"},u.a.createElement(Q.a,{fullWidth:!0,name:"comment",variant:"outlined",multiline:!0,rows:"4",onChange:function(e){r(e.target.value)},value:c}),u.a.createElement("div",{className:"text-center"},u.a.createElement(z.a,{size:"small",variant:"contained",startIcon:u.a.createElement(K.a,null),color:"primary",onClick:function(){c&&(x.postComment(t,c),r(""))}},"post")))})),R=Object(S.a)((function(e){var t=e.taskKey,a=x.comments,n=Object(i.useState)(!1),c=Object(T.a)(n,2),r=c[0],s=c[1];return u.a.createElement(i.Fragment,null,u.a.createElement("div",{className:"comments-list"},a?Object.keys(a).map((function(e){return u.a.createElement("div",{className:"comment",key:e},u.a.createElement("div",{className:"comment-content"},u.a.createElement(J.a,{className:"icon"}),a[e].comment),u.a.createElement(W,{fn:function(){return a=e,void x.deleteComments(t,a);var a},text:"delete",color:"primary",className:"delete",size:"small",variant:"text",style:{fontSize:"10px"}}))})):null),r?u.a.createElement(q,{taskKey:t}):u.a.createElement("div",{className:"text-center"},u.a.createElement(z.a,{size:"small",color:"primary",variant:"contained",startIcon:u.a.createElement(K.a,null),onClick:function(){return s(!0)}},"post comment")))})),G=a(97),M=a(209),U=(a(350),function(e){var t=e.setFormValues,a=e.formValues,n="";n=""===a.content?G.EditorState.createEmpty():G.EditorState.createWithContent(Object(G.convertFromRaw)(JSON.parse(a.content)));var c=Object(i.useState)(n),r=Object(T.a)(c,2),s=r[0],l=r[1];return Object(i.useEffect)((function(){var e=s.getCurrentContent();t(Object(j.a)(Object(j.a)({},a),{},{content:JSON.stringify(Object(G.convertToRaw)(e))}))}),[s]),u.a.createElement(M.Editor,{editorState:s,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",toolbar:{options:["inline","list","textAlign"],inline:{superscript:{className:"hidden"},subscript:{className:"hidden"}},list:{indent:{className:"hidden"},outdent:{className:"hidden"}},textAlign:{options:["left","center","right"]}},onEditorStateChange:l})}),$=a(396),H=a(397),L=a(398),P=a(399),X=Object(S.a)((function(e){var t=e.handleClose,a=e.task,n=x.loadingComments,c=Object(i.useState)(Object(j.a)({},a)),r=Object(T.a)(c,2),s=r[0],l=r[1];return Object(i.useEffect)((function(){x.getComments(a.key)}),[]),u.a.createElement(i.Fragment,null,u.a.createElement($.a,null,u.a.createElement(D,{closeDialog:t,task:s})),n?u.a.createElement("div",{className:"loading"},u.a.createElement(H.a,null)):u.a.createElement(L.a,{dividers:!0},u.a.createElement(P.a,{className:"task-content"},u.a.createElement(Q.a,{name:"title",className:"title",value:s.title,variant:"outlined",fullWidth:!0,onChange:function(e){l(Object(j.a)(Object(j.a)({},s),{},{title:e.target.value}))}}),u.a.createElement(U,{setFormValues:l,formValues:s}),u.a.createElement(R,{taskKey:a.key}))))})),Y={title:"",content:"",order:0,col:0,key:""},Z=Object(S.a)((function(e){var t=e.handleClose,a=e.col,n=Object(i.useState)(Object(j.a)(Object(j.a)({},Y),{},{col:a})),c=Object(T.a)(n,2),r=c[0],s=c[1];return u.a.createElement("form",{noValidate:!0,autoComplete:"off"},u.a.createElement($.a,null,u.a.createElement(F.a,{className:"card-top",title:"Wednesday, July 1, 2020",action:u.a.createElement(W,{icon:u.a.createElement(I.a,null),fn:function(){r.title&&(x.addTask(r),s(Y),t())},text:"add",variant:"outlined",size:"small"})})),u.a.createElement(L.a,null,u.a.createElement(Q.a,{fullWidth:!0,id:"outlined-basic",label:"Title",name:"title",variant:"outlined",onChange:function(e){s(Object(j.a)(Object(j.a)({},r),{},{title:e.target.value}))},value:r.title}),u.a.createElement(U,{setFormValues:s,formValues:r})))})),_=a(403),ee=function(e){var t=e.open,a=e.handleClose,n=e.children;return u.a.createElement(_.a,{className:"modal",open:t,onClose:a,scroll:"paper",fullWidth:!0,maxWidth:"md"},n)},te=a(151),ae=a.n(te),ne=function(e){var t=e.tasks,a=e.col,n=Object(i.useState)(!1),c=Object(T.a)(n,2),r=c[0],s=c[1],l=Object(i.useState)(""),o=Object(T.a)(l,2),m=o[0],d=o[1],f=Object(i.useState)(Y),b=Object(T.a)(f,2),p=b[0],v=b[1],h=function(e){d(e),s(!0)},k=function(){s(!1)};return u.a.createElement("div",{className:"tasks-box"},u.a.createElement("div",{className:"tasks-heading"},function(e){switch(e){case 0:return u.a.createElement("h3",null,"Completed");case 1:return u.a.createElement(i.Fragment,null,u.a.createElement("h3",null,"Tasks"),u.a.createElement(ae.a,{className:"add",fontSize:"small",onClick:function(){return h("AddTask")}}));case 2:return u.a.createElement(i.Fragment,null,u.a.createElement("h3",null,"Question"),u.a.createElement(ae.a,{className:"add",fontSize:"small",onClick:function(){return h("AddQuestion")}}));default:return null}}(a)),u.a.createElement("div",{className:"tasks-list content"},t.map((function(e,t){return u.a.createElement("div",{key:t,onClick:function(){return function(e){v(e),d("showTask"),s(!0)}(e)}},e.title.length>60?e.title.slice(0,60)+"...":e.title)}))),u.a.createElement(ee,{open:r,handleClose:k},"AddTask"===m?u.a.createElement(Z,{handleClose:k,col:1}):"AddQuestion"===m?u.a.createElement(Z,{handleClose:k,col:2}):u.a.createElement(X,{handleClose:k,task:p})))},ce=Object(S.a)((function(){var e=x.tasks,t=x.loading;return Object(i.useEffect)((function(){x.getTasks()}),[]),u.a.createElement("div",{className:"App container"},t?u.a.createElement("div",{className:"loading"},u.a.createElement(H.a,null)):[0,1,2].map((function(t){return u.a.createElement("div",{className:"column",key:t},u.a.createElement(ne,{tasks:e.filter((function(e){return e.col===t})),col:t}))})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(){var e=Object(o.a)(['\n      query GetRates {\n        rates(currency: "USD") {\n          currency\n        }\n      }\n    ']);return re=function(){return e},e}new f.a({uri:"https://48p1r2roz4.sse.codesandbox.io",cache:new b.a}).query({query:Object(p.a)(re())}).then((function(e){return console.log(e)})),d.a.render(u.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[229,1,2]]]);
//# sourceMappingURL=main.469a86e0.chunk.js.map